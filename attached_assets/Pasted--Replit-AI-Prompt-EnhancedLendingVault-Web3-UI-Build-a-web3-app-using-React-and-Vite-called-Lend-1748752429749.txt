# Replit AI Prompt: EnhancedLendingVault Web3 UI

Build a web3 app using React and Vite called "LendingVault" - a decentralized peer-to-peer lending platform where loans are represented as tradeable NFTs. Focus on MVP functionality for basic lending and borrowing with modern DeFi UX.

## CORE ARCHITECTURE

**Tech Stack:**
- React 18 with TypeScript, Vite, Wagmi/Viem, Tailwind CSS, Lucide React icons

**Wallet Integration:**
- Modern ERC-6963 compliant wallet connection with MetaMask, Coinbase Wallet, WalletConnect v2
- Use RainbowKit or ConnectKit for professional wallet modal
- Network switching, connection status indicator, clean disconnect

**Live Data Only:**
- All interactions with live mainnet smart contract at: [INSERT CONTRACT ADDRESS HERE]
- No mock data - real token balances, live transactions, actual on-chain state
- Real-time event listening for contract updates

## UI STRUCTURE: 4-PAGE ARCHITECTURE

**Header Navigation:** Dashboard | Lend | Borrow | Portfolio + Wallet Connect

### 1. DASHBOARD (Landing/Portfolio Hybrid)

**Disconnected State:**
- Clean hero: "Peer-to-Peer Lending with NFT Loans"
- Key benefits: "Set your own rates • Trade loan positions • No liquidations"
- Large wallet connect button

**Connected State:**
- Portfolio overview cards: Total Lent, Total Borrowed, Active Loans, Net APY
- Quick actions: "Lend More", "Find Credit", "Manage Positions"
- Recent activity feed (last 5 transactions)
- Role context indicator: "Viewing as: Lender | Borrower | Both"

### 2. LEND PAGE

**Deposit Section:**
- Token dropdown (USDC, USDT, DAI, WETH), amount input, balance display with max button
- Deposit/withdraw toggle, transaction preview with gas estimate

**Credit Line Management:**
- **Active Credit Lines**: Cards showing borrower address/ENS, token, utilization bar, available credit
- **Add Credit Line** button opening modal: Borrower address, token selector, credit limit, min/max APR sliders (0.01-100%)
- Quick actions on each card: Edit limits, View loans, Disable credit

**Loan Portfolio:**
- Table: Loan ID, Borrower, Token, Principal, Outstanding, Interest Accrued, APR, Days Active
- Quick actions per loan: Forgive Interest, Forgive Principal (in "More Options" dropdown)
- Payment status indicators and relationship health scores

### 3. BORROW PAGE

**Credit Discovery:**
- **My Credit Lines**: Cards showing available credit from configured lenders
- Each card: Lender address/ENS, Token, Available Amount, Current APR, Utilization bar
- **Request Credit** button for contacting new potential lenders

**Borrow Interface:**
- Lender selector (from available credit lines), amount input with credit limit validation
- Live APR calculation based on current utilization
- Loan preview: Amount, APR, estimated daily/monthly interest

**My Loans:**
- Loan cards: Loan ID, Lender, Token, Outstanding Balance, Interest Due, Days Since Payment
- Payment interface per loan: Amount input with suggestions (Interest Only, Full Payment, Custom)
- Payment allocation preview (Interest vs Principal split)
- Quick "Pay Interest Only" buttons

### 4. PORTFOLIO PAGE

**Overview Dashboard:**
- Combined position summary with P&L tracking
- Interest earned vs interest paid metrics
- Total active loan count and average utilization

**Relationship Management:**
- **Counterparty List**: All lending/borrowing relationships
- Per relationship: Address/ENS, total credit given/received, payment history, trust indicators
- **Relationship Health**: Visual payment history and utilization trends
- Quick actions: Adjust credit limits, make payments, view full history

**Advanced Features:**
- Loan NFT transfer functionality
- Performance analytics and yield calculations

## SMART CONTRACT INTEGRATION

**Contract Address:** [INSERT CONTRACT ADDRESS HERE]

**Core Functions:**
- `deposit/withdraw` - Lender liquidity management
- `updateCreditLine` - Credit configuration  
- `borrow` - Create loan NFTs
- `repay` - Loan payments
- `getOutstandingBalance/getAvailableCredit` - Data queries
- `forgivePrincipal/forgiveInterest` - Lender tools

**Real-time Updates:**
- Event listeners for LoanCreated, LoanRepaid, CreditLineUpdated
- Toast notifications for transaction confirmations
- Live interest accrual calculations

## UX REQUIREMENTS

**Context-Aware Progressive Disclosure:**
- Simple defaults with advanced features behind "More Options"
- Role-based feature visibility (lender vs borrower tools)
- Empty state guidance: "Set your first credit line" / "Request credit to start borrowing"

**Transaction Flow:**
- Clear preview modals with gas estimates and transaction breakdown
- Progress indicators during pending transactions
- Success/error states with retry options and clear next actions

**Relationship-Focused UX:**
- Trust scores and payment history visualizations
- Credit utilization health indicators
- Smart notifications for payment reminders and credit requests

**Data Display:**
- Real-time interest calculations with overflow protection
- Proper token decimal formatting and APR percentages
- Relative timestamps ("2 days ago") and loading states

**Design:**
- Modern DeFi aesthetic with professional typography
- Dark theme preferred with clean card layouts and gradient accents
- Mobile responsive with touch-friendly interactions

Generate a complete MVP React application focusing on the 4-page structure with emphasis on relationship management between lenders and borrowers. Prioritize working smart contract integration and clear user flows for both single-role and dual-role users.